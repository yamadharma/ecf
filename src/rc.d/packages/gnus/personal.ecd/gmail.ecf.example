;;; -*- mode: emacs-lisp; coding: utf-8-unix; -*-

(setq gnus-select-method '(nnnil nil))

;;; IMAP

(setq gnus-secondary-select-methods
      '((nnimap "home"
                (nnimap-address "imap.gmail.com")
                (nnimap-server-port 993)
                (nnimap-stream ssl)
                (nnir-search-engine imap)
                (nnmail-expiry-target "nnimap+home:[Gmail]/Trash")
                (nnmail-expiry-wait 'immediate))
        (nnimap "work"
                (nnimap-address "imap.gmail.com")
                (nnimap-server-port 993)
                (nnimap-stream ssl)
                (nnir-search-engine imap)
                (nnmail-expiry-target "nnimap+work:[Gmail]/Trash")
                (nnmail-expiry-wait 'immediate))))

      
;;; Your ~/.authinfo entries will then be:
;;; machine home login account@gmail.com password "account password" port imap
;;; machine work login account2@gmail.com password "account2 password" port imap

;;; SMTP

;; Reply to mails with matching email address
(setq gnus-posting-styles
      '((".*" ; Matches all groups of messages
         (address "Nicolas Cavigneaux <home@gmail.com>"))
        ("work" ; Matches Gnus group called "work"
         (address "Nicolas Cavigneaux <work@gmail.com>")
         (organization "Corp")
         (signature-file "~/.signature-work")
         ("X-Message-SMTP-Method" "smtp smtp.gmail.com 587 work@gmail.com"))))

;;;
